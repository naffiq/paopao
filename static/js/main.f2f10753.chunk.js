(this.webpackJsonppaopao=this.webpackJsonppaopao||[]).push([[0],{14:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var o,i=n(1),r=n(5),c=n(3),a=n(2);n(14);!function(t){t[t.Initial=0]="Initial",t[t.Up=1]="Up",t[t.Down=2]="Down",t[t.Left=3]="Left",t[t.Right=4]="Right"}(o||(o={}));var l=window.outerWidth>window.outerHeight?9:16,u=window.outerWidth>window.outerHeight?16:9,d=function(){var t=new Array(u*l).fill(null).map((function(t,e){return Math.floor(e/4)}));return new Array(l).fill(null).map((function(){return new Array(u).fill(null).map((function(){return{cardType:t.splice(Math.floor(Math.random()*t.length),1)[0],isSolved:!1,isSelected:!1}}))}))},s=function(t){var e=Object(i.useState)(d()),n=Object(a.a)(e,2),r=n[0],s=n[1],f=Object(i.useState)(!1),h=Object(a.a)(f,2),p=h[0],v=h[1],j=Object(i.useState)(0),b=Object(a.a)(j,2),x=b[0],y=b[1],O=Object(i.useState)(void 0),g=Object(a.a)(O,2),w=g[0],m=g[1],S=Object(i.useState)(void 0),F=Object(a.a)(S,2),k=F[0],C=F[1],T=Object(i.useState)(),E=Object(a.a)(T,2),M=E[0],I=E[1],D=function(t,e,n){!function(t,e,n){var o=r[e].map((function(e,o){return o===t?n:e}));s(r.map((function(t,n){return n===e?o:t})))}(t,e,Object(c.a)(Object(c.a)({},r[e][t]),{},{isSelected:n}))},A=function(t,e){var n=t.x,i=t.y,c=e.x,a=e.y,d=new Array(l+1).fill(null).map((function(){return new Array(u).fill(999)}));d[-1]=new Array(u).fill(999);return function t(e,n,i,s){if(!(s>2||d[i][n]<s)&&(d[i][n]=s,(n!=c||i!=a)&&(!r[i]||!r[i][n]||r[i][n].isSolved||e===o.Initial)&&!(d[a][c]<=2))){var f=function(t){return e!==t&&e!==o.Initial?1:0};n>-1&&t(o.Left,n-1,i,s+f(o.Left)),n<u&&t(o.Right,n+1,i,s+f(o.Right)),i>-1&&t(o.Up,n,i-1,s+f(o.Up)),i<l&&t(o.Down,n,i+1,s+f(o.Down))}}(o.Initial,n,i,0),d[a][c]<=2};Object(i.useEffect)((function(){if(void 0!==w&&void 0!==k){var e=r[w.y][w.x],n=r[k.y][k.x],o=e.cardType===n.cardType&&A(w,k);setTimeout((function(){!function(e){var n=r.map((function(t){return t.map((function(t){return t.isSelected?Object(c.a)(Object(c.a)({},t),{},{isSelected:!1,isSolved:e}):t}))}));if(e){y(x+1),x===u*l/2-1&&(n=d(),t());for(var o=H(n);void 0===o;)n=R(n),o=H(n);I(o)}s(n)}(o),m(void 0),C(void 0),v(!1)}),500)}}),[w,k]);var H=function(t){for(var e=function(e){var n=[];t.forEach((function(t,o){t.forEach((function(t,i){t.cardType!==e||t.isSolved||n.push({x:i,y:o})}))}));for(var o=0;o<n.length-1;o++)for(var i=o+1;i<n.length;i++)if(A(n[o],n[i]))return{v:[n[o],n[i]]}},n=0;n<36;n++){var o=e(n);if("object"===typeof o)return o.v}},R=function(t){var e=[];return t.forEach((function(t){return t.forEach((function(t){t.isSolved||e.push(t.cardType)}))})),t.map((function(t){return t.map((function(t){return{cardType:t.isSolved?t.cardType:e.splice(Math.floor(Math.random()*e.length),1)[0],isSelected:!1,isSolved:t.isSolved}}))}))};Object(i.useEffect)((function(){I(H(r))}),[]);return{gameField:r,selectFieldTile:function(t,e){var n=r[e][t];n.isSolved||n.isSelected||(void 0===w?(D(t,e,!0),m({x:t,y:e})):void 0===k&&(D(t,e,!0),C({x:t,y:e})))},existingSolution:M,onShowHint:function(){v(!0)},showHint:p,couplesFound:x}},f=n(0),h=function(t){var e=t.cardType,n=t.isSelected,o=t.isSolved,i=t.onClick,r=t.highlighted,c=Math.min(Math.floor(Math.min((window.outerWidth-4*u)/u,window.outerHeight/l)),60),a=Math.floor(e%6)*c,d=Math.floor(e/6)*c,s=function(t,e,i){return o?"transparent":n?t:r?i:e},h=s("#B5DDE5","#FFFFDB","red"),p=s("#566F81","#817C56","red"),v=s("#D2F7FF","#E9E3B9","red");return Object(f.jsx)("div",{style:{width:c+"px",height:c+"px",background:o?void 0:"url(".concat("/paopao","/sprites.png) ").concat(a,"px ").concat(d,"px"),backgroundColor:h,backgroundSize:"".concat(c/60*360,"px"),borderTop:"2px solid "+p,borderRight:"2px solid "+p,borderBottom:"2px solid "+v,borderLeft:"2px solid "+v,cursor:o?"default":"pointer"},onClick:function(){return i()}})},p=function(t){var e=t.onOk,n=t.show;return Object(f.jsx)("div",{style:{backgroundColor:"rgba(0, 0, 0, .4)",position:"absolute",width:"100vw",height:"100vh",zIndex:10,left:0,top:0,display:n?"flex":"none",alignItems:"center",justifyContent:"center"},children:Object(f.jsxs)("div",{style:{backgroundColor:"#FFF",padding:"16px"},children:[Object(f.jsx)("h2",{children:"Congratulations!"}),Object(f.jsx)("p",{children:"There are no further levels at this point but you can replay the first level again :)"}),Object(f.jsx)("button",{onClick:e,children:"Great"})]})})};function v(){var t=s((function(){b(!0)})),e=t.gameField,n=t.selectFieldTile,o=t.existingSolution,r=t.onShowHint,l=t.showHint,u=t.couplesFound,d=Object(i.useState)(!1),v=Object(a.a)(d,2),j=v[0],b=v[1];return Object(f.jsxs)("div",{className:"App",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",margin:"0 auto",maxWidth:"1024px",flexDirection:"column",caretColor:"transparent"},children:[Object(f.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(f.jsxs)("h1",{style:{color:"white"},children:["PaoPao ",u,"/72"]}),Object(f.jsx)("button",{onClick:r,children:"Show hint"})]}),Object(f.jsx)("div",{children:e.map((function(t,e){return Object(f.jsx)("div",{style:{display:"flex"},children:t.map((function(t,r){return Object(i.createElement)(h,Object(c.a)(Object(c.a)({highlighted:!(!l||!o)&&(null===o||void 0===o?void 0:o.some((function(t){return t.x===r&&t.y===e})))},t),{},{key:"card-".concat(r,"-").concat(e,"-").concat(t.cardType),onClick:function(){return n(r,e)}}))}))},"row-".concat(e))}))}),Object(f.jsx)(p,{show:j,onOk:function(){return b(!1)}})]})}var j=document.getElementById("root");r.createRoot(j).render(Object(f.jsx)(i.StrictMode,{children:Object(f.jsx)(v,{})}))}},[[16,1,2]]]);
//# sourceMappingURL=main.f2f10753.chunk.js.map